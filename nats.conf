# NATS Server Configuration for Wolverine.Nats Testing

# Server Settings
server_name: wolverine-nats-test
listen: 0.0.0.0:4222
http_port: 8222

# Enable JetStream
jetstream {
    # Store directory inside the container
    store_dir: "/data/jetstream"
    
    # Memory and file storage limits
    max_memory_store: 1GB
    max_file_store: 10GB
    
    # Domain for JetStream (optional)
    # domain: "wolverine"
}

# Logging
# Log to stdout/stderr (captured by Docker)
logtime: true
debug: false
trace: false

# Limits
max_connections: 64k
max_control_line: 4k
max_payload: 1MB
max_pending: 64MB

# Security (basic for testing)
# accounts {
#     SYS {
#         users = [
#             { user: "admin", pass: "admin" }
#         ]
#     }
# }

# Authorization (commented out for easier testing)
# authorization {
#     user: "nats"
#     password: "nats"
# }

# Monitoring
monitor_port: 8222

# Write PID file
pid_file: "/tmp/nats.pid"